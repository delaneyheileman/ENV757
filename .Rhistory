#Some handy libraries
library(car)
library(leaps)
library(lubridate)
library(rvest)
#Some handy libraries
library(car)
library(leaps)
library(lubridate)
library(rvest)
url <- "https://www.slickcharts.com/sp500"
#browseURL(url)
webpage <- read_html(url)
companyRank <- as.integer(html_text(html_nodes(webpage, ".mb-5 td:nth-child(1)")))
head(companyRank)
length(companyRank)
head(companyRank)
length(companyRank)
length(companyRank) >= 500
head(companyName)
companyName <- as.character(html_text(html_nodes(webpage, "td:nth-child(2) a")))
head(companyName)
length(companyName)
length(companyName) == length(companyRank)
companyName <- as.character(html_text(html_nodes(webpage, "td:nth-child(2) a")))
head(companyName)
length(companyName)
length(companyName) == length(companyRank)
companyWeight <- as.numeric(html_text(html_nodes(webpage, ".mb-5 td:nth-child(4)")))
head(companyWeight)
length(companyWeight)
length(companyWeight) == length(companyRank)
companySymb <- as.character(html_text(html_nodes(webpage, "td~ td+ td a")))
head(companySymb)
length(companySymb)
length(companySymb) == length(companyRank)
hist(companyWeight)
boxplot(companyWeight)
boxplot(companyWeight)
knitr::opts_chunk$set(echo = TRUE)
library(car)
library(leaps)
library(lubridate)
library(rvest)
library(olsrr)
library(corrplot)
library(leaps)
#Setting working directory
setwd("/Users/delaneyheileman/Documents/school/Yale/Spring 2022/data/ENV757")
knitr::opts_chunk$set(echo = TRUE)
library(car)
library(leaps)
library(lubridate)
library(rvest)
library(olsrr)
library(corrplot)
library(leaps)
#Setting working directory
setwd("/Users/delaneyheileman/Documents/school/Yale/Spring 2022/data/ENV757")
#Setting working directory
#setwd("/Users/delaneyheileman/Documents/school/Yale/Spring 2022/data/ENV757")
setwd("/Users/liamgunn/Documents/School/Yale Forestry/Spring 2022/Data Exploration & Analysis/Data Analysis Final Project/ENV757")
#Loading CSV
recs <- read.csv("recs2015_public_v4.csv")
dim(recs)
head(recs)
#selecting columns we care about
#WE NEED TO DECIDE WHAT WE WANT TO DO ABOUT IMPUTATION
recs1 <- na.omit(recs[, c("MONEYPY", "ENERGYASST", "REGIONC", "DIVISION", "KOWNRENT", "THERMAIN", "PROTHERM", "TEMPHOME", "AIRCOND","CENACHP", "THERMAINAC", "PROTHERMAC", "TEMPHOMEAC", "HOUSEHOLDER_RACE", "SCALEB", "KWH", "DOLLAREL", "DOLLARNG", "DOLLARLP", "DOLLARFO")])
#getting rid of "not applicable" answers for thermostat questions. N/a for Thermostat likely means they use wood fire or something else
cleanRECS <- recs1[recs1$THERMAIN != "-2" & recs1$PROTHERM != "-2" & recs1$THERMAINAC != "-2" & recs1$PROTHERMAC != "-2",]
cleanRECS$REGIONC <- as.factor(recode(cleanRECS$REGIONC,
"'1' = 'Northeast';
'2' = 'Midwest';
'3' = 'South';
'4' = 'West'"))
cleanRECS$DIVISION <- as.factor(recode(cleanRECS$DIVISION,
"'1' = 'New England';
'2' = 'Mid Atlantic';
'3' = 'East North Central';
'4' = 'West North Central';
'5' = 'South Atlantic';
'6' = 'East South Central';
'7' = 'West South Central';
'8' = 'Mountain North';
'9' = 'Mountain South';
'10'= 'Pacific'"))
knitr::opts_chunk$set(echo = TRUE)
library(car)
library(leaps)
library(lubridate)
library(rvest)
library(olsrr)
library(corrplot)
library(leaps)
#Setting working directory
#setwd("/Users/delaneyheileman/Documents/school/Yale/Spring 2022/data/ENV757")
setwd("/Users/liamgunn/Documents/School/Yale Forestry/Spring 2022/Data Exploration & Analysis/Data Analysis Final Project/ENV757")
#Loading CSV
recs <- read.csv("recs2015_public_v4.csv")
dim(recs)
head(recs)
#selecting columns we care about
#WE NEED TO DECIDE WHAT WE WANT TO DO ABOUT IMPUTATION
recs1 <- na.omit(recs[, c("MONEYPY", "ENERGYASST", "REGIONC", "DIVISION", "KOWNRENT", "THERMAIN", "PROTHERM", "TEMPHOME", "AIRCOND","CENACHP", "THERMAINAC", "PROTHERMAC", "TEMPHOMEAC", "HOUSEHOLDER_RACE", "SCALEB", "KWH", "DOLLAREL", "DOLLARNG", "DOLLARLP", "DOLLARFO")])
#getting rid of "not applicable" answers for thermostat questions. N/a for Thermostat likely means they use wood fire or something else
cleanRECS <- recs1[recs1$THERMAIN != "-2" & recs1$PROTHERM != "-2" & recs1$THERMAINAC != "-2" & recs1$PROTHERMAC != "-2",]
cleanRECS$REGIONC <- as.factor(recode(cleanRECS$REGIONC,
"'1' = 'Northeast';
'2' = 'Midwest';
'3' = 'South';
'4' = 'West'"))
cleanRECS$DIVISION <- as.factor(recode(cleanRECS$DIVISION,
"'1' = 'New England';
'2' = 'Mid Atlantic';
'3' = 'East North Central';
'4' = 'West North Central';
'5' = 'South Atlantic';
'6' = 'East South Central';
'7' = 'West South Central';
'8' = 'Mountain North';
'9' = 'Mountain South';
'10'= 'Pacific'"))
boxplot(TEMPHOME ~ MONEYPY, data = cleanRECS, col = as.factor(cleanRECS$MONEYPY))
boxplot(DOLLAREL ~ DIVISION, data = cleanRECS, col = as.factor(cleanRECS$MONEYPY))
boxplot()
knitr::opts_chunk$set(echo = TRUE)
library(car)
library(leaps)
library(lubridate)
library(rvest)
library(olsrr)
library(corrplot)
library(leaps)
#Setting working directory
#setwd("/Users/delaneyheileman/Documents/school/Yale/Spring 2022/data/ENV757")
setwd("/Users/liamgunn/Documents/School/Yale Forestry/Spring 2022/Data Exploration & Analysis/Data Analysis Final Project/ENV757")
#Loading CSV
recs <- read.csv("recs2015_public_v4.csv")
dim(recs)
head(recs)
#selecting columns we care about
#WE NEED TO DECIDE WHAT WE WANT TO DO ABOUT IMPUTATION
recs1 <- na.omit(recs[, c("MONEYPY", "ENERGYASST", "REGIONC", "DIVISION", "KOWNRENT", "THERMAIN", "PROTHERM", "TEMPHOME", "AIRCOND","CENACHP", "THERMAINAC", "PROTHERMAC", "TEMPHOMEAC", "HOUSEHOLDER_RACE", "SCALEB", "KWH", "DOLLAREL", "DOLLARNG", "DOLLARLP", "DOLLARFO")])
#getting rid of "not applicable" answers for thermostat questions. N/a for Thermostat likely means they use wood fire or something else
cleanRECS <- recs1[recs1$THERMAIN != "-2" & recs1$PROTHERM != "-2" & recs1$THERMAINAC != "-2" & recs1$PROTHERMAC != "-2",]
cleanRECS$REGIONC <- as.factor(recode(cleanRECS$REGIONC,
"'1' = 'Northeast';
'2' = 'Midwest';
'3' = 'South';
'4' = 'West'"))
cleanRECS$DIVISION <- as.factor(recode(cleanRECS$DIVISION,
"'1' = 'New England';
'2' = 'Mid Atlantic';
'3' = 'East North Central';
'4' = 'West North Central';
'5' = 'South Atlantic';
'6' = 'East South Central';
'7' = 'West South Central';
'8' = 'Mountain North';
'9' = 'Mountain South';
'10'= 'Pacific'"))
names(data)
#Setting working directory
#setwd("/Users/delaneyheileman/Documents/school/Yale/Spring 2022/data/ENV757")
setwd("/Users/liamgunn/Documents/School/Yale Forestry/Spring 2022/Data Exploration & Analysis/Data Analysis Final Project/ENV757")
#Loading CSV
recs <- read.csv("recs2015_public_v4.csv")
dim(recs)
head(recs)
#selecting columns we care about
#WE NEED TO DECIDE WHAT WE WANT TO DO ABOUT IMPUTATION
recs1 <- na.omit(recs[, c("MONEYPY", "ENERGYASST", "REGIONC", "DIVISION", "KOWNRENT", "THERMAIN", "PROTHERM", "TEMPHOME", "AIRCOND","CENACHP", "THERMAINAC", "PROTHERMAC", "TEMPHOMEAC", "HOUSEHOLDER_RACE", "SCALEB", "KWH", "DOLLAREL", "DOLLARNG", "DOLLARLP", "DOLLARFO")])
#getting rid of "not applicable" answers for thermostat questions. N/a for Thermostat likely means they use wood fire or something else
cleanRECS <- recs1[recs1$THERMAIN != "-2" & recs1$PROTHERM != "-2" & recs1$THERMAINAC != "-2" & recs1$PROTHERMAC != "-2",]
cleanRECS$REGIONC <- as.factor(recode(cleanRECS$REGIONC,
"'1' = 'Northeast';
'2' = 'Midwest';
'3' = 'South';
'4' = 'West'"))
cleanRECS$DIVISION <- as.factor(recode(cleanRECS$DIVISION,
"'1' = 'New England';
'2' = 'Mid Atlantic';
'3' = 'East North Central';
'4' = 'West North Central';
'5' = 'South Atlantic';
'6' = 'East South Central';
'7' = 'West South Central';
'8' = 'Mountain North';
'9' = 'Mountain South';
'10'= 'Pacific'"))
